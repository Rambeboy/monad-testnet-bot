const _0x1cfb9c=_0x302f;function _0x302f(_0x43dac1,_0x3fc7c4){const _0x2f2b43=_0x2f2b();return _0x302f=function(_0x302f9e,_0xa54327){_0x302f9e=_0x302f9e-0x147;let _0x576428=_0x2f2b43[_0x302f9e];return _0x576428;},_0x302f(_0x43dac1,_0x3fc7c4);}(function(_0x471e29,_0x41e048){const _0x2e984a=_0x302f,_0x28db11=_0x471e29();while(!![]){try{const _0x10f94e=-parseInt(_0x2e984a(0x167))/0x1*(-parseInt(_0x2e984a(0x152))/0x2)+-parseInt(_0x2e984a(0x15d))/0x3*(parseInt(_0x2e984a(0x166))/0x4)+parseInt(_0x2e984a(0x15f))/0x5*(parseInt(_0x2e984a(0x16c))/0x6)+-parseInt(_0x2e984a(0x15c))/0x7+-parseInt(_0x2e984a(0x14a))/0x8*(-parseInt(_0x2e984a(0x14b))/0x9)+-parseInt(_0x2e984a(0x174))/0xa+-parseInt(_0x2e984a(0x165))/0xb;if(_0x10f94e===_0x41e048)break;else _0x28db11['push'](_0x28db11['shift']());}catch(_0x52dad0){_0x28db11['push'](_0x28db11['shift']());}}}(_0x2f2b,0x575f2));const axios=require(_0x1cfb9c(0x16f)),{ethers}=require(_0x1cfb9c(0x149)),config=require('../../../config/config.json');function _0x2f2b(){const _0x5a328=['Contract','210mcuDZz','toLowerCase','map','result','\x22Windows\x22','balanceOf','5273070RnCbor','15212wEmgIA','23GErjRs','function\x20balanceOf(address\x20owner)\x20view\x20returns\x20(uint256)','wmon','verified','rpc','79824mVhPLn','application/json,\x20text/plain,\x20*/*','sort','axios','Unknown','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/133.0.0.0\x20Safari/537.36','application/json','indexOf','1183120QBoFDQ','data','symbol','apriori','en-US,en;q=0.9','ethers','3681872XMlLUc','9RVurGJ','has','get','Error\x20fetching\x20token\x20balances:','contractAddress','getNFTBalance','gzip,\x20deflate,\x20br','54762fiLGdT','blockvision','trackedAddresses','filter','tokenAddress','error','nft','network','JsonRpcProvider','contracts','2749404tLBjSI','237oKoSTw'];_0x2f2b=function(){return _0x5a328;};return _0x2f2b();}class TokenService{constructor(){const _0x40792e=_0x1cfb9c;this[_0x40792e(0x16f)]=axios['create']({'timeout':0x7530,'headers':{'Accept':_0x40792e(0x16d),'Accept-Language':_0x40792e(0x148),'Accept-Encoding':_0x40792e(0x151),'Sec-Ch-Ua':'\x22Not\x20A(Brand\x22;v=\x2299\x22,\x20\x22Google\x20Chrome\x22;v=\x22133\x22,\x20\x22Chromium\x22;v=\x22133\x22','Sec-Ch-Ua-Mobile':'?0','Sec-Ch-Ua-Platform':_0x40792e(0x163),'User-Agent':_0x40792e(0x171),'Content-Type':_0x40792e(0x172)}}),this[_0x40792e(0x154)]=new Set([config[_0x40792e(0x15b)][_0x40792e(0x169)][_0x40792e(0x160)](),config[_0x40792e(0x15b)][_0x40792e(0x147)][_0x40792e(0x160)](),config['contracts']['magma'][_0x40792e(0x160)]()]);}async[_0x1cfb9c(0x150)](_0x486763){const _0x5c2dd8=_0x1cfb9c;try{const _0x43bb4e=new ethers[(_0x5c2dd8(0x15a))](config[_0x5c2dd8(0x159)][_0x5c2dd8(0x16b)]),_0x142e8b=new ethers[(_0x5c2dd8(0x15e))](config['contracts'][_0x5c2dd8(0x158)],[_0x5c2dd8(0x168)],_0x43bb4e),_0x192b1a=await _0x142e8b[_0x5c2dd8(0x164)](_0x486763);return Number(_0x192b1a);}catch(_0x2d1d54){return console[_0x5c2dd8(0x157)]('Error\x20checking\x20NFT\x20balance:',_0x2d1d54),0x0;}}async['getTokenBalances'](_0x3ceda1){const _0x15aab7=_0x1cfb9c;try{const _0x5cb13f=await this[_0x15aab7(0x16f)][_0x15aab7(0x14d)](config['apis'][_0x15aab7(0x153)]+'/account/tokenPortfolio?address='+_0x3ceda1);if(!_0x5cb13f?.['data']?.['result']?.[_0x15aab7(0x175)])return[];const _0x2ca0da=_0x5cb13f[_0x15aab7(0x175)][_0x15aab7(0x162)]['data'][_0x15aab7(0x155)](_0x31673c=>this[_0x15aab7(0x154)][_0x15aab7(0x14c)](_0x31673c['contractAddress'][_0x15aab7(0x160)]()))[_0x15aab7(0x161)](_0x5bc62b=>({'symbol':_0x5bc62b[_0x15aab7(0x176)]||_0x15aab7(0x170),'balance':_0x5bc62b['balance']||'0','tokenAddress':_0x5bc62b[_0x15aab7(0x14f)],'name':_0x5bc62b['name']||'','verified':_0x5bc62b[_0x15aab7(0x16a)]||![]}));return _0x2ca0da[_0x15aab7(0x16e)]((_0x16b443,_0x3c5740)=>{const _0x5af80c=_0x15aab7;return Array['from'](this[_0x5af80c(0x154)])[_0x5af80c(0x173)](_0x16b443[_0x5af80c(0x156)][_0x5af80c(0x160)]())-Array['from'](this['trackedAddresses'])[_0x5af80c(0x173)](_0x3c5740[_0x5af80c(0x156)][_0x5af80c(0x160)]());}),_0x2ca0da;}catch(_0x2533b9){return console[_0x15aab7(0x157)](_0x15aab7(0x14e),_0x2533b9),[];}}}module['exports']=TokenService;